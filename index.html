<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>BlackTrigger HQ</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <div class="nav-bar">
      <button onclick="toggleModule('rule-module')">–ü—Ä–∞–≤–∏–ª–æ –î–µ–Ω—å</button>
      <button onclick="toggleModule('plan-module')">–ü–ª–∞–Ω –î–µ–Ω—å</button>
      <button onclick="toggleModule('environment-module')">–û–∫—Ä—É–∂–µ–Ω–∏–µ</button>
      <button onclick="toggleModule('finance-module')">–§–∏–Ω–∞–Ω—Å—ã</button>
      <button onclick="toggleModule('habits-module')">–ü—Ä–∏–≤—ã—á–∫–∏</button>
      <button onclick="toggleModule('notes-module')">–ó–∞–º–µ—Ç–∫–∏</button>
      <button onclick="toggleModule('knowledge-module')">–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</button>
      <button onclick="toggleModule('archetype-module')">–ê—Ä—Ö–µ—Ç–∏–ø—ã</button>
      <button onclick="toggleModule('analytics-module')">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</button>
      <button onclick="toggleModule('settings-module')">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
      <button onclick="toggleModule('help-module')">–°–ø—Ä–∞–≤–∫–∞</button>
      <button onclick="toggleModule('strategy-module')">–ö–∞—Ä—Ç–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</button>
    </div>

    <!-- –ü—Ä–∞–≤–∏–ª–æ –î–µ–Ω—å -->
    <div class="module always-open" id="rule-module">
      <div class="module-header">
        <h2>üìú –ü—Ä–∞–≤–∏–ª–æ –î–µ–Ω—å</h2>
      </div>
      <div class="module-content">
        <div id="rule-text"></div>
        <button onclick="adhereRule()">–ü—Ä–∏–¥–µ—Ä–∂–∞–ª—Å—è</button>
        <button onclick="violateRule()">–ù–∞—Ä—É—à–∏–ª</button>
        <input type="text" id="custom-rule" placeholder="–î–æ–±–∞–≤–∏—Ç—å —Å–≤–æ—ë –ø—Ä–∞–≤–∏–ª–æ">
        <button onclick="addCustomRule()">–î–æ–±–∞–≤–∏—Ç—å</button>
        <div class="error" id="rule-error"></div>
      </div>
    </div>

    <!-- –ü–ª–∞–Ω –Ω–∞ –î–µ–Ω—å -->
    <div class="module always-open" id="plan-module">
      <div class="module-header">
        <h2>üìã –ü–ª–∞–Ω –Ω–∞ –î–µ–Ω—å</h2>
      </div>
      <div class="module-content">
        <input type="text" id="plan-text" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–¥–∞—á—É">
        <button onclick="addPlan()">–î–æ–±–∞–≤–∏—Ç—å</button>
        <ul id="plan-list"></ul>
        <div class="error" id="plan-error"></div>
      </div>
    </div>

    <!-- –û–∫—Ä—É–∂–µ–Ω–∏–µ -->
    <div class="module collapsed" id="environment-module">
      <div class="module-header" onclick="toggleModule('environment-module')">
        <h2>üë• –û–∫—Ä—É–∂–µ–Ω–∏–µ</h2><span>‚ñº</span>
      </div>
      <div class="module-content">
        <button onclick="openPersonModal()">–î–æ–±–∞–≤–∏—Ç—å —á–µ–ª–æ–≤–µ–∫–∞</button>
        <div id="people-list"></div>
      </div>
    </div>

    <!-- –§–∏–Ω–∞–Ω—Å—ã -->
    <div class="module collapsed" id="finance-module">
      <div class="module-header" onclick="toggleModule('finance-module')">
        <h2>üí∞ –§–∏–Ω–∞–Ω—Å—ã</h2><span>‚ñº</span>
      </div>
      <div class="module-content">
        <input type="number" id="finance-amount" placeholder="–°—É–º–º–∞">
        <select id="finance-type">
          <option value="income">–î–æ—Ö–æ–¥</option>
          <option value="expense">–†–∞—Å—Ö–æ–¥</option>
        </select>
        <button onclick="addTransaction()">–î–æ–±–∞–≤–∏—Ç—å</button>
        <ul id="finance-list"></ul>
        <div class="stats" id="finance-stats"></div>
      </div>
    </div>

    <!-- –ü—Ä–∏–≤—ã—á–∫–∏ -->
    <div class="module collapsed" id="habits-module">
      <div class="module-header" onclick="toggleModule('habits-module')">
        <h2>üîÑ –ü—Ä–∏–≤—ã—á–∫–∏</h2><span>‚ñº</span>
      </div>
      <div class="module-content">
        <input type="text" id="habit-text" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–≤—ã—á–∫—É">
        <select id="habit-frequency">
          <option value="daily">–ï–∂–µ–¥–Ω–µ–≤–Ω–æ</option>
          <option value="weekly">–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ</option>
        </select>
        <button onclick="addHabit()">–î–æ–±–∞–≤–∏—Ç—å</button>
        <ul id="habit-list"></ul>
      </div>
    </div>

    <!-- –ó–∞–º–µ—Ç–∫–∏ -->
    <div class="module collapsed" id="notes-module">
      <div class="module-header" onclick="toggleModule('notes-module')">
        <h2>üìù –ó–∞–º–µ—Ç–∫–∏</h2><span>‚ñº</span>
      </div>
      <div class="module-content">
        <input type="text" id="note-text" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–º–µ—Ç–∫—É">
        <button onclick="addNote()">–î–æ–±–∞–≤–∏—Ç—å</button>
        <ul id="note-list"></ul>
      </div>
    </div>

    <!-- –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π -->
    <div class="module collapsed" id="knowledge-module">
      <div class="module-header" onclick="toggleModule('knowledge-module')">
        <h2>üìö –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</h2><span>‚ñº</span>
      </div>
      <div class="module-content">
        <input type="text" id="knowledge-search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º" oninput="renderKnowledge()">
        <button onclick="openKnowledgeModal()">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É</button>
        <ul id="knowledge-list"></ul>
      </div>
    </div>

    <!-- –ê—Ä—Ö–µ—Ç–∏–ø—ã -->
    <div class="module collapsed" id="archetype-module">
      <div class="module-header" onclick="toggleModule('archetype-module')">
        <h2>üß† –ê—Ä—Ö–µ—Ç–∏–ø—ã</h2><span>‚ñº</span>
      </div>
      <div class="module-content">
        <button onclick="openArchetypeModal()">–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç</button>
        <div id="archetype-result"></div>
      </div>
    </div>

    <!-- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ -->
    <div class="module collapsed" id="analytics-module">
      <div class="module-header" onclick="toggleModule('analytics-module')">
        <h2>üîç –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h2><span>‚ñº</span>
      </div>
      <div class="module-content">
        <div id="analytics-results"></div>
      </div>
    </div>

    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
    <div class="module collapsed" id="settings-module">
      <div class="module-header" onclick="toggleModule('settings-module')">
        <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2><span>‚ñº</span>
      </div>
      <div class="module-content">
        <select id="state-select">
          <option value="focus">–í —Ñ–æ–∫—É—Å–µ</option>
          <option value="fatigue">–£—Å—Ç–∞–ª–æ—Å—Ç—å</option>
          <option value="rise">–ü–æ–¥—ä—ë–º</option>
        </select>
        <button onclick="applyState()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
        <button onclick="exportData()">–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</button>
        <input type="file" id="import-file" accept=".json">
        <button onclick="importData()">–ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</button>
        <div class="error" id="settings-error"></div>
      </div>
    </div>

    <!-- –°–ø—Ä–∞–≤–∫–∞ -->
    <div class="module collapsed" id="help-module">
      <div class="module-header" onclick="toggleModule('help-module')">
        <h2>üìö –°–ø—Ä–∞–≤–∫–∞</h2><span>‚ñº</span>
      </div>
      <div class="module-content">
        <div id="help-content"></div>
      </div>
    </div>

    <!-- –ö–∞—Ä—Ç–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ -->
    <div class="module collapsed" id="strategy-module">
      <div class="module-header" onclick="toggleModule('strategy-module')">
        <h2>üó∫Ô∏è –ö–∞—Ä—Ç–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</h2><span>‚ñº</span>
      </div>
      <div class="module-content">
        <button onclick="openStrategyModal()">–î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é</button>
        <div id="strategy-list"></div>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <template id="person-modal-template">
      <div class="modal-content">
        <h2>–î–æ–±–∞–≤–∏—Ç—å —á–µ–ª–æ–≤–µ–∫–∞</h2>
        <input type="text" id="person-name" placeholder="–ò–º—è">
        <select id="person-status">
          <option value="loyal">üü¢ –õ–æ—è–ª—å–Ω—ã–π</option>
          <option value="neutral">üü° –ù–µ–π—Ç—Ä–∞–ª</option>
          <option value="hostile">üî¥ –í—Ä–∞–≥</option>
          <option value="contract">‚úçÔ∏è –ö–æ–Ω—Ç—Ä–∞–∫—Ç</option>
        </select>
        <input type="text" id="person-tags" placeholder="–ú–µ—Ç–∫–∏ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)">
        <button onclick="addPerson()">–î–æ–±–∞–≤–∏—Ç—å</button>
        <button onclick="closeModal('person-modal')">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </template>
    <template id="knowledge-modal-template">
      <div class="modal-content">
        <h2>–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É</h2>
        <input type="text" id="knowledge-title" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫">
        <textarea id="knowledge-content" placeholder="–°–æ–¥–µ—Ä–∂–∏–º–æ–µ"></textarea>
        <button onclick="addKnowledge()">–î–æ–±–∞–≤–∏—Ç—å</button>
        <button onclick="closeModal('knowledge-modal')">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </template>
    <template id="strategy-modal-template">
      <div class="modal-content">
        <h2>–î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é</h2>
        <input type="text" id="strategy-goal" placeholder="–¶–µ–ª—å">
        <button onclick="addStrategy()">–î–æ–±–∞–≤–∏—Ç—å</button>
        <button onclick="closeModal('strategy-modal')">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </template>
    <template id="archetype-modal-template">
      <div class="modal-content">
        <h2>–¢–µ—Å—Ç –∞—Ä—Ö–µ—Ç–∏–ø–∞</h2>
        <p>–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ç–≤–µ—Ç:</p>
        <select id="archetype-question">
          <option value="predator">–Ø –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ.</option>
          <option value="strategist">–Ø –ø–ª–∞–Ω–∏—Ä—É—é –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é.</option>
          <option value="provocateur">–Ø –ø—Ä–æ–≤–æ—Ü–∏—Ä—É—é –¥—Ä—É–≥–∏—Ö.</option>
        </select>
        <button onclick="submitArchetype()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        <button onclick="closeModal('archetype-modal')">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </template>
  </div>
  <script src="main.js"></script>
</body>
</html>